<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<title>计算公式</title>
		<link rel="stylesheet" href="../frame/layui/css/layui.css" type="text/css">
		<link rel="stylesheet" href="../frame/static/css/style.css">
	</head>
	<body>
		<div class="layui-content">
      		<h2>计算公式</h2>
      		<button id="increase-btn" class="layui-btn mymx-btn" onclick="incBtn(this)" data-type="getCheckData">+新增计算公式</button>
      		<div class="layui-table-body">
        		<table class="layui-table mymx-table" lay-skin="line">
        			<colgroup>
           			    <col width="100">
           			    <col width="100">
           			    <col width="100">
           			    <col width="100">
           			    <col width="100">
           			    <col width="100">
          			</colgroup>
        		    <thead>
         		        <tr>
          		            <th>编号</th>
          		            <th>名称</th>
             		        <th>表达式</th>
             		        <th>操作</th>
          		        </tr> 
        		    </thead>
        		    <tbody>
         		        <tr>
          		            <td>01</td>
           		            <td>板材计算公式</td>
             		        <td>(A+B+C)*D</td>
             		        <td><a href="#" style="color: #546df2;margin-right: 10px;" onclick="RedactJsgs(this)">编辑</a><a href="#" style="color: #546df2;" onclick="DelJsgs()">删除</a></td>
           		        </tr>
           		        <tr>
          		            <td>01</td>
           		            <td>板材计算公式</td>
             		        <td>(A+B+C)*D</td>
             		        <td><a href="#" style="color: #546df2;margin-right: 10px;" onclick="RedactJsgs(this)">编辑</a><a href="#" style="color: #546df2;" onclick="DelJsgs()">删除</a></td>
           		        </tr>
           		        <tr>
          		            <td>01</td>
           		            <td>板材计算公式</td>
             		        <td>(A+B+C)*D</td>
             		        <td><a href="#" style="color: #546df2;margin-right: 10px;" onclick="RedactJsgs(this)">编辑</a><a href="#" style="color: #546df2;" onclick="DelJsgs()">删除</a></td>
           		        </tr>
           		        <tr>
          		            <td>01</td>
           		            <td>板材计算公式</td>
             		        <td>(A+B+C)*D</td>
             		        <td><a href="#" style="color: #546df2;margin-right: 10px;" onclick="RedactJsgs(this)">编辑</a><a href="#" style="color: #546df2;" onclick="DelJsgs()">删除</a></td>
           		        </tr>
           		        <tr>
          		            <td>01</td>
           		            <td>板材计算公式</td>
             		        <td>(A+B+C)*D</td>
             		        <td><a href="#" style="color: #546df2;margin-right: 10px;" onclick="RedactJsgs(this)">编辑</a><a href="#" style="color: #546df2;" onclick="DelJsgs()">删除</a></td>
           		        </tr>
           		        <tr>
          		            <td>01</td>
           		            <td>板材计算公式</td>
             		        <td>(A+B+C)*D</td>
             		        <td><a href="#" style="color: #546df2;margin-right: 10px;" onclick="RedactJsgs(this)">编辑</a><a href="#" style="color: #546df2;" onclick="DelJsgs()">删除</a></td>
           		        </tr>
           		        <tr>
          		            <td>01</td>
           		            <td>板材计算公式</td>
             		        <td>(A+B+C)*D</td>
             		        <td><a href="#" style="color: #546df2;margin-right: 10px;" onclick="RedactJsgs(this)">编辑</a><a href="#" style="color: #546df2;" onclick="DelJsgs()">删除</a></td>
           		        </tr>
           		        <tr>
          		            <td>01</td>
           		            <td>板材计算公式</td>
             		        <td>(A+B+C)*D</td>
             		        <td><a href="#" style="color: #546df2;margin-right: 10px;" onclick="RedactJsgs(this)">编辑</a><a href="#" style="color: #546df2;" onclick="DelJsgs()">删除</a></td>
           		        </tr>
          		    </tbody>
        		</table>
        </div>
        <!--弹出层-->
        <div id="incJsgs" style="display: none;">
		 	<div style="padding: 20px;">
				<form class="layui-form" action="">
					<dl id="TCinsert" class="my-TCinsert-Dj">
						<dd>
							<label class="layui-form-label">编号</label>
							<div class="layui-input-inline">
								<input type="text" name="num" lay-verify="required" placeholder="请输入编号" autocomplete="off" class="layui-input gxgxgx">
							</div>
						</dd>
						<dd>
							<label class="layui-form-label">名称</label>
							<div class="layui-input-inline">
								<input type="text" name="name" lay-verify="required" placeholder="请输入名称" autocomplete="off" class="layui-input qymc team">
							</div>
						</dd>
						<dd>
							<label class="layui-form-label">表达式</label>
							<div class="layui-input-inline">
								<input type="text" name="expression" lay-verify="required" placeholder="请输入表达式" autocomplete="off" class="layui-input qymc team">
							</div>
						</dd>											
					</dl>					
				</form>
			</div>
		</div>
        
        
       <script src="../frame/layui/layui.js"  charset="utf-8" type="text/javascript"></script>
       <script src="../js/jquery-1.8.3.min.js"></script>
       <!--<script src="../frame/layui/lay/modules/layer.js"></script>-->
       <script type="text/javascript">
       	    layui.use('layer', function(){
                var layer = layui.layer;  
//              layer.msg('hello');
            });     
       	       	
        function incBtn(obj){
//      	var tmp = obj;
			var gymc = $(obj).parents("tr").children().eq(1).text();
		    var gyname = $(obj).parents("tr").children().eq(1).text();
		    
			parent.layer.open({
	            type:1,
	            area: ['342px', 'auto'],//边框大小
	            title:'新增计算公式',
	            shade:0.2,
	            offset:'200px',//距离顶部距离
	            content:$('#incJsgs').html(),
	            success:function(){
	            	$(".gygygy").val(gyname);
	            	
	            },
	            btn:['确定','取消']
	            ,btnAlign: 'c' //按钮居中
	            ,yes: function(index,layero){
//	            	alert($(".gxmc").val());
	                parent.layer.close(index);
	         	}
	     });          	                	
        }

        function RedactJsgs(obj){
        	var tmp = obj;
			var gymc = $(tmp).parents("tr").children().eq(1).text();
		    var gyname = $(tmp).parents("tr").children().eq(1).text();
		    
			parent.layer.open({
	            type:1,
	            area: ['342px', 'auto'],//边框大小
	            title:'编辑计算公式',
	            shade:0.2,
	            offset:'200px',//距离顶部距离
	            content:$('#incJsgs').html(),
	            success:function(){
	            	$(".gygygy").val(gyname);
	            	
	            },
	            btn:['确定','取消']
	            ,btnAlign: 'c' //按钮居中
	            ,yes: function(index,layero){
//	            	alert($(".gxmc").val());
	              parent.layer.close(index);
	         	}
	     });          	                	
        }

        function DelJsgs() {
      		
      		
			parent.layer.open({
	            type:1,	         
	            title:'删除计算公式',
	            shade:0.2,
	            offset:'300px',
	            content:'<div style="padding: 30px 100px;">确定删除该计算公式吗？</div>',
	            btn:['确定','取消']
	            ,btnAlign: 'c' //按钮居中
	            ,yes: function(index,layero){
	                parent.layer.close(index);
	         	}
	     	});  
		}


        </script>
        
	</body>
</html>
